<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>GitPulse ‚Äî Resultado</title>
</head>
<body>

    <h1>GitPulse</h1>

    <h2>Resultado para {{ username }}</h2>

    <ul>
        <li>Reposit√≥rios p√∫blicos: {{ public_repos }}</li>
        <li>Seguidores: {{ followers }}</li>
    </ul>

    <h3>Reposit√≥rios</h3>

    {% if repos %}
        <ul>
            {% for repo in repos %}
                <li>
                    <strong>{{ repo.name }}</strong>
                    {% if repo.language %}
                        ‚Äî {{ repo.language }}
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Este usu√°rio n√£o possui reposit√≥rios p√∫blicos.</p>
    {% endif %}

    <h3>Linguagens mais usadas</h3>

    {% if languages %}
        <ul>
            {% for lang, count in languages.items() %}
                <li>{{ lang }}: {{ count }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>N√£o foi poss√≠vel identificar linguagens.</p>
    {% endif %}

    <h3>Linguagens por volume de c√≥digo</h3>

    {% if languages_by_bytes %}
        <ul>
            {% for lang, bytes in languages_by_bytes.items() %}
                <li>{{ lang }}: {{ bytes }} bytes</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>N√£o foi poss√≠vel calcular os volumes.</p>
    {% endif %}

    <h3>Distribui√ß√£o de linguagens (%)</h3>

    {% if language_percentages %}
        <ul>
            {% for lang, percent in language_percentages.items() %}
                <li>{{ lang }} ‚Äî {{ percent }}%</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>N√£o foi poss√≠vel calcular os percentuais.</p>
    {% endif %}

    <select id="chartType">
        <option value="bar">Gr√°fico de Barras</option>
        <option value="pie">Gr√°fico de Pizza</option>
        <option value="doughnut">Rosquinha üç©</option>
    </select>

    <canvas id="languageChart"></canvas>

    <a href="/">‚Üê Analisar outro usu√°rio</a>

    {% if language_percentages %}
    <script>
        const languageLabels = {{ language_percentages.keys() | list | tojson }};
        const languageData = {{ language_percentages.values() | list | tojson }};
    </script>
    {% endif %}

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{ url_for('static', filename='chart.js') }}"></script>

</body>
</html>
